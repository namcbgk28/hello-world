<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<head>
    <title>Employee Management</title>
    <h:outputStylesheet library="css" name="style.css" />
</head>
<body>
    <div class="container">
        <h1>Employee Management</h1>
        
        <h:outputText value="#{employeeBean.message}" rendered="#{employeeBean.message != null}" 
                     styleClass="message" />
        
        <div class="search-section">
            <h3>Search Employee</h3>
            <h:form>
                <div class="form-group">
                    <label>Employee Code:</label>
                    <h:inputText value="#{employeeBean.searchCode}" placeholder="Enter employee code" />
                </div>
                <h:commandButton value="Search" action="#{employeeBean.searchEmployee()}" 
                               styleClass="btn" />
                <h:commandButton value="Load All" action="#{employeeBean.loadAllEmployees()}" 
                               styleClass="btn btn-success" />
                <h:commandButton value="Test Connection" action="#{employeeBean.testConnection()}" 
                               styleClass="btn" />
            </h:form>
        </div>
        
        <h:panelGroup rendered="#{employeeBean.selectedEmployee != null}">
            <div class="employee-detail">
                <h3>Employee Information</h3>
                <p><strong>Employee Code:</strong> #{employeeBean.selectedEmployee.employeeCode}</p>
                <p><strong>Employee Name:</strong> #{employeeBean.selectedEmployee.employeeName}</p>
                <p><strong>Age:</strong> #{employeeBean.selectedEmployee.employeeAge}</p>
                <p><strong>Date of Birth:</strong> #{employeeBean.selectedEmployee.dateOfBirth}</p>
            </div>
        </h:panelGroup>
        
        <h:panelGroup rendered="#{employeeBean.employees != null and employeeBean.employees.size() > 0}">
            <h3>Employee List (#{employeeBean.employees.size()} employees)</h3>
            <h:dataTable value="#{employeeBean.employees}" var="emp" 
                        styleClass="employee-table" headerClass="table-header" 
                        rowClasses="table-row-odd,table-row-even">
                <h:column>
                    <f:facet name="header">Employee Code</f:facet>
                    #{emp.employeeCode}
                </h:column>
                <h:column>
                    <f:facet name="header">Employee Name</f:facet>
                    #{emp.employeeName}
                </h:column>
                <h:column>
                    <f:facet name="header">Age</f:facet>
                    #{emp.employeeAge}
                </h:column>
                <h:column>
                    <f:facet name="header">Date of Birth</f:facet>
                    #{emp.dateOfBirth}
                </h:column>
            </h:dataTable>
        </h:panelGroup>
        
        <h:panelGroup rendered="#{employeeBean.employees == null or employeeBean.employees.size() == 0}">
            <div class="no-data">
                <p>No employee data available.</p>
                <p>Please check database connection and try again.</p>
            </div>
        </h:panelGroup>
    </div>
</body>
</html>